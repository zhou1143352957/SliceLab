# 10 页面样式与布局

## 适用范围

- uni-app 页面样式设计、跨端布局兼容、样式问题排查时使用。

## 规则

- 先确认页面渲染类型：`vue` 页面走 webview，`nvue/uvue` 页面走原生渲染，CSS 能力边界不同。
- 预处理器统一支持 `less/sass/scss/stylus`；Vue3 项目默认 `dart-sass`，样式深度选择器优先 `::v-deep`。
- 通用单位优先 `px/rpx`；`rem/vh/vw` 仅在 `vue` 页面使用，`nvue` 不使用百分比布局。
- 需要稳定跨端布局时优先 `Flex`，减少依赖端特性。
- 选择器避免使用 `*`；微信小程序自定义组件场景优先 `class` 选择器。
- 全局样式放 `App.vue`；`nvue` 页面不依赖全局样式能力。
- 背景图与字体资源遵循端约束：小程序 CSS 不直接使用本地文件路径，优先网络地址或 base64。
- 字体图标网络地址必须使用 `https`；端特有字体方案放适配层，不在页面散落实现。

## 示例

- `vue` 页面使用 `rpx + flex` 完成自适应布局，`nvue` 页面使用原生可支持样式实现同布局。
- 样式深度穿透写法统一为 `::v-deep .child { ... }`。
- 小程序端背景资源改为网络地址或脚本导入绑定，不直接写本地相对路径。

## 反例

- 把 `nvue` 页面当成普通 web CSS 环境，使用百分比布局导致渲染异常。
- 在小程序 CSS 中直接使用本地字体或本地背景图路径，真机样式丢失。
- 在需要 scoped 穿透时继续使用旧写法 `/deep/` 导致样式失效。
- 使用 `*` 通配选择器做全局重置，跨端出现不可控副作用。

## 检查项

- 页面样式问题是否先区分 `vue/nvue/uvue` 渲染机制。
- 单位使用是否符合端约束（`rem/vh/vw` 与百分比限制）。
- 选择器、深度穿透写法是否符合当前 Vue3 规范。
- 字体和背景资源路径在目标端是否可用且可回归。
- 关键页面是否通过 H5、小程序、App 样式冒烟验证。

## 来源

- 官方教程（2026-02-11 查阅）：https://uniapp.dcloud.net.cn/tutorial/syntax-css.html

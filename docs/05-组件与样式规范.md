# 05 组件与样式规范

## 适用范围

- 组件拆分、页面重构、样式命名规范统一时使用。

## 规则

- 单组件单职责：展示、交互、数据请求不要混杂。
- Props 与 emits 显式声明，避免隐式双向依赖。
- 组件引用优先使用 `easycom`（模板直接写标签），减少重复导入与注册样板代码。
- 使用 `script setup` 时，组件通常只需“导入 + 模板使用”，无需再写 `components` 注册。
- 传统 Options API 组件引用遵循“导入 -> 注册 -> 使用”三步，禁止漏注册后直接使用。
- 页面引用组件与组件内部引用组件规则一致，统一按同一套规范维护。
- 外联样式统一在 `<style>` 内通过 `@import` 引入，路径使用相对路径并以 `;` 结束。
- 模板和样式中引用静态资源优先使用 `static` 目录，路径统一用 `/static/...` 或 `@/static/...`。
- 非 `static` 目录资源在模板与样式中禁止直接路径引用，需在脚本中先 `import` 再绑定使用。
- 样式命名保持现有前缀体系，控制层级深度。
- 避免过度嵌套选择器，优先扁平 class 结构。
- 公共样式提取到可复用层，不在页面复制粘贴。

## 示例

- 列表页拆分：`FilterBar`、`ListItem`、`EmptyState`。
- `script setup` 示例：`import UserCard from '@/components/user/UserCard.vue'` 后直接在模板使用 `<UserCard />`。
- easycom 示例：组件满足命名规则时，模板可直接使用组件标签，无需显式导入。
- 样式引入示例：`@import "./index.css";`
- 图片示例：`<image src="/static/logo.png" />`。
- 非 static 资源示例：`import hero from '@/assets/hero.png'` 后在模板绑定 `:src="hero"`。
- 复杂样式拆到局部模块并复用变量。

## 反例

- 单个页面文件超过数百行且包含大量重复 UI 块。
- Options API 中仅 `import` 组件但未在 `components` 注册，页面运行时报组件未定义。
- 同项目混用多套组件命名和引用方式，导致 easycom 匹配不稳定。
- 在 `<style>` 中写 `@import "/styles/index.css"` 或遗漏分号导致样式加载异常。
- 在模板里直接写 `src="../assets/a.png"`（非 static），跨端后资源丢失。
- 通过深层后代选择器覆盖样式，导致维护困难。

## 检查项

- 组件职责是否清晰，接口是否最小化。
- 当前组件引用方式是否统一（easycom / script setup / Options API）。
- Options API 页面是否存在“已导入未注册”的组件。
- 组件标签命名是否与 easycom 约定一致。
- `@import` 是否写在 `<style>` 内且使用相对路径。
- 模板与样式资源是否遵循“static 直引、非 static 先 import”规则。
- class 命名是否一致，是否存在无语义命名。
- 样式优先级是否可控，是否有魔法值泛滥。

## 来源

- 官方教程（2026-02-11 查阅）：https://uniapp.dcloud.net.cn/tutorial/page-component.html
- 官方教程（2026-02-11 查阅）：https://uniapp.dcloud.net.cn/tutorial/page-style.html
- 官方教程（2026-02-11 查阅）：https://uniapp.dcloud.net.cn/tutorial/page-static-assets.html

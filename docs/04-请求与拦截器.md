# 04 请求与拦截器

## 适用范围

- 新增接口、统一鉴权、处理错误码时使用。

## 规则

- 基于统一 `request` 封装，不在页面里直接裸调 `uni.request`。
- 在请求前统一注入 `Authorization` 或业务头。
- 业务错误码在响应层集中处理，页面只处理展示逻辑。
- 接口按域拆分，命名采用 `getXxx`/`createXxx` 等动词前缀。

## 示例

- `src/api/user.ts` 仅暴露语义化方法。
- 401 统一触发登录态失效流程。

## 反例

- 同一错误码在多个页面重复处理，逻辑分叉。
- 请求超时、重试策略到处手写，无法统一维护。

## 检查项

- 是否所有接口都走统一封装层。
- 错误处理是否分层：网络层/业务层/展示层。
- 鉴权丢失时是否可自动回收状态并引导重登。
